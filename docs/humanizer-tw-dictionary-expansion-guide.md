# humanizer-tw 詞庫擴充指南

用 Gemini Deep Think 精準擴充 `dictionary.md` 中國用語→台灣用語對照表的完整方法論。

---

## 有效提示詞的三要素

根據多次使用 Gemini Deep Think 評估與擴充 skill 的經驗，能產出高品質結果的 prompt 需要三個要素：

| 要素 | 作用 | 缺少時的後果 |
|------|------|-------------|
| **結構化區塊** | 背景、任務、維度、約束、輸出格式各自獨立 | 回答散亂，重點不明 |
| **具體錨點** | 附上實際內容（現有表格、範例、排除條件） | 回答空泛，重複已有內容 |
| **限定輸出格式** | 指定表格欄位、分級層次、數量上限 | 過度發散，難以直接使用 |

### 為什麼需要附上完整現有表格

- 避免 Gemini 重複列出已收錄的詞
- 讓它從現有收錄標準中推斷你的品質門檻
- Deep Think 模式會花時間分析你的表格模式，再產出符合同一邏輯的新詞對

### 為什麼需要硬性排除條件

中國→台灣用語對照最大的陷阱是 **false positive**——把台灣也正常使用的詞列進去，導致過度矯正。明確列出排除條件能大幅降低這類錯誤。

---

## 完整提示詞

以下提示詞可直接貼入 Gemini 3 Pro（啟用 Deep Think / 深度思考）。使用前將 `<current_dictionary>` 區塊替換為 `dictionary.md` 中「中國用語 → 台灣說法」段落的完整內容。

````markdown
# 任務：擴充 LLM 中文在地化詞彙對照表

## 背景

我維護一份 `dictionary.md`，用於 Claude Code skill，讓 LLM 輸出中文時自動將中國用語替換為台灣用語。
這份表會被載入 LLM context window，所以 token 預算有限（目前 ~2,400 tokens，上限 ~3,000）。

核心問題：LLM 訓練資料中中國中文佔比遠高於台灣中文，導致輸出常混入中國用語。
這些在台灣讀者眼中是**客觀錯誤**，不是風格偏好。

## 現有對照表（完整內容）

<current_dictionary>
（把 dictionary.md 的「中國用語 → 台灣說法」整段貼在這裡）
</current_dictionary>

## 你的任務

找出 **現有表格遺漏的高頻中國用語**，按以下維度逐一評估：

### 評估維度（每個候選詞都必須回答）

1. **LLM 輸出頻率**：這個詞在 LLM 生成的中文文本中多常出現？（極高/高/中/低）
2. **台灣辨識度**：台灣讀者看到這個詞會覺得「這不是我們的說法」嗎？（明確錯誤/微妙不自然/台灣也用）
3. **替換安全性**：機械式替換會不會產生 false positive？舉一個可能誤判的句子。
4. **與現有詞對的重疊**：是否已被現有詞對部分覆蓋？（例如「數據庫→資料庫」已收，但單獨「數據」未收）

### 硬性排除條件（符合任一即不收錄）

- 台灣日常也正常使用的詞（如：優化、實現、確保、整合、互動）
- 替換後反而不自然的詞
- 僅在特定專業領域使用、一般讀者不會遇到的詞
- LLM 輸出頻率為「低」的詞

## 搜尋範圍

請分別掃描以下領域，每個領域至少提出 5 個候選詞：

1. **科技/軟體**：程式開發、AI/ML、雲端、網路、硬體相關
2. **商業/職場**：管理、行銷、人資、財務相關
3. **日常生活/網路用語**：社群媒體、購物、娛樂、交通相關
4. **學術/教育**：論文寫作、教學、研究相關

## 輸出格式（嚴格遵守）

### 建議收錄

| 中國用語 | 台灣說法 | 領域 | LLM頻率 | 台灣辨識度 | 替換風險 | 可能誤判句 |
|---------|---------|------|---------|-----------|---------|-----------|
| xxx | yyy | 科技 | 高 | 明確錯誤 | 低 | 「...」 |

### 邊界案例（需人工判斷）

同上格式，但這些詞的「台灣辨識度」介於模糊地帶，由我決定是否收錄。

### 明確不收錄

| 詞彙 | 不收錄理由（一句話） |
|------|-------------------|

## 約束

- 不要重複列出現有表格已有的詞對
- 每個詞對的「台灣說法」欄位最多給 3 個替代詞，用頓號分隔
- 優先列出 LLM 頻率「極高」和「高」的詞
- 總候選詞數控制在 30-50 個，不要追求窮舉
````

---

## 提示詞設計邏輯

| 設計 | 為什麼 |
|------|--------|
| 附上完整現有表格 | 避免 Gemini 重複提已收錄的詞，也讓它理解收錄標準 |
| 四維度逐詞評估 | 強迫 Deep Think 慢下來逐個分析，不要一口氣列 100 個低品質詞 |
| 硬性排除條件 | 預防最常見的錯誤——把台灣也用的詞列進去（false positive） |
| 分領域掃描 | 避免只集中在科技領域，漏掉商業/日常的高頻詞 |
| 「可能誤判句」欄位 | 關鍵欄位——強迫它思考每個詞的替換風險，品質大幅提升 |
| 三層輸出分級 | 區分「建議收錄」「邊界」「不收錄」，只需 review 前兩層 |
| 30-50 個上限 | 防止 Deep Think 過度發散，保持精準度 |

---

## 收錄決策框架

拿到 Gemini 的輸出後，用以下框架快速篩選：

### 必收（直接加入 dictionary.md）

同時滿足：
- LLM 頻率「極高」或「高」
- 台灣辨識度「明確錯誤」
- 替換風險「低」

### 考慮收（人工判斷）

滿足其中之一：
- LLM 頻率「高」但替換風險「中」→ 需評估誤判句是否常見
- 台灣辨識度「微妙不自然」→ 依文體決定（正式文體收，非正式可不收）

### 不收

符合任一：
- 台灣辨識度「台灣也用」
- 替換風險「高」
- LLM 頻率「低」或「中」且辨識度非「明確錯誤」

---

## Token 預算管理

dictionary.md 的中國用語段落有 token 上限，擴充時需控管：

| 指標 | 數值 |
|------|------|
| 每個詞對約佔 | ~15 tokens |
| 書面／科技現有 | 37 個詞對（~555 tokens） |
| 口語現有 | 9 個詞對（~135 tokens） |
| 中國用語段落合計 | ~750 tokens |
| 建議上限 | ~1,000 tokens（~67 個詞對） |
| 剩餘空間 | ~17 個詞對 |

**原則：** 每新增一個詞對，問自己「這 15 tokens 能攔截多少錯誤？」。頻率「極高」的詞一個抵十個「低」頻詞。

---

## 常見 false positive 陷阱

以下詞彙容易被誤判為「中國用語」，但台灣也正常使用，**不應收錄**：

| 詞彙 | 不收錄理由 |
|------|-----------|
| 優化 | 台灣科技業標準用語 |
| 實現 | 「實現目標」台灣日常使用 |
| 確保 | 正當動詞，替換後不自然 |
| 能力 | 通用名詞，無地域差異 |
| 涉及 | 書面語但非中國特有 |
| 整合 | 台灣商業/科技標準用語 |
| 互動 | 台灣標準（「交互」才是中國用語，已收錄） |
| 方案 | 台灣也說「方案」（「解決方案」的問題在「解決方案」整體是 AI 黑話，非地域差異） |
| 平台 | 台灣標準用語 |
| 框架 | 台灣科技業標準用語（framework） |

---

## 中國↔台灣用語差異的系統性規律

理解差異的底層規律，有助於發現新的遺漏詞：

### 1. 音譯 vs 意譯

中國傾向音譯，台灣傾向意譯：

| 中國（音譯） | 台灣（意譯） | 原文 |
|-------------|-------------|------|
| 博客 | 部落格 | blog |
| 黑客 | 駭客 | hacker |
| 芯片 | 晶片 | chip |

### 2. 簡化 vs 完整

中國傾向縮寫或簡化，台灣保留較完整的詞：

| 中國（簡化） | 台灣（完整） | 說明 |
|-------------|-------------|------|
| 信息 | 資訊 | information |
| 軟件 | 軟體 | software |
| 硬件 | 硬體 | hardware |

### 3. 不同的漢字選擇

同一概念選用不同漢字：

| 中國 | 台灣 | 對應概念 |
|------|------|---------|
| 數據 | 資料 | data |
| 視頻 | 影片 | video |
| 網絡 | 網路 | network |
| 內存 | 記憶體 | memory (RAM) |

### 4. 動詞偏好差異

中國偏好某些動詞，台灣偏好另一組：

| 中國偏好 | 台灣偏好 | 語境 |
|---------|---------|------|
| 運行 | 執行 | run a program |
| 調試 | 除錯 | debug |
| 激活 | 啟用 | activate |
| 配置 | 設定 | configure |

### 5. 口語/網路用語的完全分歧

這類詞在對岸日常用但台灣幾乎不用：

| 中國 | 台灣 | 備註 |
|------|------|------|
| 小夥伴 | 同事、朋友 | 台灣不會這樣稱呼 |
| 給力 | 讚、很強 | 台灣偶見但不自然 |
| 靠譜 | 可靠、穩 | 台灣幾乎不用 |
| 點贊 | 按讚 | 功能相同，說法不同 |

---

## 迭代流程

詞庫擴充不是一次性工作，建議定期迭代：

1. **收集**：用上述 prompt 讓 Gemini 產出候選詞
2. **篩選**：套用收錄決策框架，剔除 false positive
3. **測試**：用包含候選詞的 AI 生成段落測試改寫效果
4. **驗證**：確認不會對正當台灣用語產生誤替換
5. **收錄**：通過驗證的詞對加入 dictionary.md
6. **監控**：實際使用中觀察是否有新的遺漏詞，回到步驟 1

每次迭代控制在 10-20 個新詞對以內，避免一次大量變動導致難以追蹤品質變化。

---

## 相關文件

| 文件 | 說明 |
|------|------|
| `humanizer-tw/references/dictionary.md` | 詞彙對照主表（本指南的擴充對象） |
| `humanizer-tw/references/anti-patterns.md` | 反模式庫（句型層級，非詞彙層級） |
| `humanizer-tw/references/examples.md` | 改寫範例 |
| `humanizer-tw/SKILL.md` | Skill 主檔（引用 dictionary.md） |
| `docs/humanizer-tw-chinese-expression-infiltration.md` | 中國用語滲入問題的根因分析 |
